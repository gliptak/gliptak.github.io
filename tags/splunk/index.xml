<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Splunk on </title>
    <link>https://gliptak.github.io/tags/splunk/</link>
    <description>Recent content in Splunk on </description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <copyright>&amp;copy; 2016-2021 Gábor Lipták</copyright>
    <lastBuildDate>Sat, 31 Oct 2020 11:17:30 -0400</lastBuildDate><atom:link href="https://gliptak.github.io/tags/splunk/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Splunk custom input with session</title>
      <link>https://gliptak.github.io/post/splunk_custom_input_session/</link>
      <pubDate>Sat, 31 Oct 2020 11:17:30 -0400</pubDate>
      
      <guid>https://gliptak.github.io/post/splunk_custom_input_session/</guid>
      <description>Splunk can be extended with custom inputs written in Python. In order to connect to Splunk services, code has to be configured and use a session token. Here is a basic setup emitting records with kvstore names
#!/usr/bin/env python import splunklib.client as client import sys import datetime as dt def generate(session_key): service = client.connect(token = session_key) for collection in service.kvstore: ts = dt.datetime.now(tz=dt.timezone.utc).isoformat() print(f&#39;{ts}, collection=&amp;quot;{collection.name}&amp;quot;&#39;) if __name__ == &amp;quot;__main__&amp;quot;: session_key = sys.</description>
    </item>
    
  </channel>
</rss>
